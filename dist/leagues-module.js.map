{"version":3,"sources":["webpack:///./src/app/DETAILS/user-league/user-league.component.html","webpack:///./src/app/DETAILS/user-league/user-league.component.scss","webpack:///./src/app/DETAILS/user-league/user-league.component.ts","webpack:///./src/app/app-routing/leagues.module.ts","webpack:///./src/app/leagues/leagues.component.html","webpack:///./src/app/leagues/leagues.component.scss","webpack:///./src/app/leagues/leagues.component.ts","webpack:///./src/app/util/util.service.ts"],"names":[],"mappings":"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","file":"leagues-module.js","sourcesContent":["module.exports = \"<div class=\\\"user-league\\\">\\r\\n  <div class=\\\"box\\\">\\r\\n    <p class=\\\"subtitle\\\">weekendLeague</p>\\r\\n   <table class=\\\"table\\\">\\r\\n  <thead>\\r\\n       <tr>\\r\\n         <th>#</th>\\r\\n         <th>Username</th>\\r\\n         <th>Points</th>\\r\\n         <!-- <th>teamCost</th> -->\\r\\n       </tr>\\r\\n     </thead>\\r\\n     <tbody>\\r\\n      \\r\\n    <tr *ngFor=\\\"let users of league.teams; let i = index\\\" [ngClass]=\\\"{'is-selected': users._id == auth.getUserId()}\\\">\\r\\n      <td>{{i+1}}</td>\\r\\n       <td>{{users.username}}</td>\\r\\n       <td>{{users.teamPoints}}</td>\\r\\n    </tr>\\r\\n     </tbody>\\r\\n   </table>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL0RFVEFJTFMvdXNlci1sZWFndWUvdXNlci1sZWFndWUuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { AuthService } from '../../util/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-user-league',\r\n  templateUrl: './user-league.component.html',\r\n  styleUrls: ['./user-league.component.scss']\r\n})\r\nexport class UserLeagueComponent implements OnInit {\r\n  @Input() league: String [];\r\n\r\n  constructor(private auth: AuthService) { }\r\n\r\n  ngOnInit() {\r\n    console.log('leagues ', this.league)\r\n    console.log('authSerive ', this.auth.getUserId())\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { LeaguesComponent } from '../leagues/leagues.component';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { UserLeagueComponent } from '../DETAILS/user-league/user-league.component';\r\n\r\nconst routes: Routes =[\r\n  {path:'', component: LeaguesComponent}\r\n]\r\n\r\n@NgModule({\r\n  declarations: [LeaguesComponent, UserLeagueComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes)\r\n  ]\r\n})\r\nexport class LeaguesModule { }\r\n","module.exports = \"\\r\\n<div class=\\\"leagues\\\">\\r\\n   <div class=\\\"container\\\" *ngIf=\\\"showLoading\\\">\\r\\n\\r\\n    <div class=\\\"column spinner button is-loading is-large\\\"></div>\\r\\n   </div>\\r\\n  <div class=\\\"container\\\">\\r\\n    <div class=\\\"competitions\\\">\\r\\n      \\r\\n      <div class=\\\"box\\\" *ngIf=\\\"!showLoading\\\">\\r\\n         <div class=\\\"compe\\\">\\r\\n          <div class=\\\" columns\\\" >\\r\\n              <table class=\\\"table  is-fullwidth is-striped\\\">\\r\\n                  <thead>\\r\\n                    <tr>\\r\\n                      <th>Competion</th>\\r\\n                      <th>Prize</th>\\r\\n                      <th>Players</th>\\r\\n                      <th>Actions</th>\\r\\n                    </tr>\\r\\n                  </thead>\\r\\n                  <tbody *ngIf=\\\"noCompetitions\\\">{{noCompetitions}}</tbody>\\r\\n                  <tbody  *ngIf=\\\"!noCompetitions\\\">\\r\\n                    <tr *ngFor=\\\"let c of competitions; let i = index;\\\">\\r\\n                      <td>{{c.name}}</td>\\r\\n                      <td>{{c.prizeMoney}} Fantasy Coins</td>\\r\\n                      <td>{{c.playerCount}}/{{c.maxPlayers}}</td>\\r\\n                      <td class=\\\"field is-grouped\\\"> <div class=\\\"control\\\">\\r\\n                          <button class=\\\"button is-primary\\\" (click)=\\\"joinCompe(c.etherId)\\\" [disabled]= \\\"checkIfJoined(i)\\\">{{joinButtonText}}</button>\\r\\n                      </div>\\r\\n                        <div class=\\\"control\\\">\\r\\n                            <button class=\\\"button is-link\\\" *ngIf=\\\"checkIfJoined(i)\\\" (click)=\\\"view(c._id)\\\">View</button>\\r\\n                        </div>\\r\\n                        \\r\\n                      </td>\\r\\n                      <td></td>\\r\\n                    </tr>\\r\\n                  </tbody>\\r\\n              </table>\\r\\n          </div>\\r\\n \\r\\n         \\r\\n\\r\\n\\r\\n\\r\\n         </div>\\r\\n      </div>\\r\\n     \\r\\n    </div>\\r\\n    <div class=\\\"columns\\\">\\r\\n      <div class=\\\"column is-one-quarter\\\">\\r\\n          <div class=\\\"user-league\\\">\\r\\n              <app-user-league [league]=\\\"leagueTeam\\\" *ngIf=\\\"leagueTeam\\\"></app-user-league>\\r\\n          </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n\\r\\n\\r\\n</div> \"","module.exports = \".leagues {\\n  color: black; }\\n\\n.user-league {\\n  margin-top: 8px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGVhZ3Vlcy9DOlxcVXNlcnNcXFNvbHV0XFxHb29nbGUgRHJpdmVcXHdvcmsyXFxwcm9qZWN0c1xcZmFudGFzeUNvaW4xLjIvc3JjXFxhcHBcXGxlYWd1ZXNcXGxlYWd1ZXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQSxZQUNBLEVBQUE7O0FBQ0E7RUFDSSxlQUFlLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9sZWFndWVzL2xlYWd1ZXMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubGVhZ3Vlc3tcclxuY29sb3I6IGJsYWNrXHJcbn1cclxuLnVzZXItbGVhZ3Vle1xyXG4gICAgbWFyZ2luLXRvcDogOHB4O1xyXG59Il19 */\"","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { Web3Service } from '../util/web3.service';\r\nimport { Factory } from '../shared/address';\r\nimport { ApiServiceService } from '../util/api-service.service';\r\nimport { AuthService } from '../util/auth.service';\r\nimport { UtilService } from '../util/util.service';\r\n\r\n@Component({\r\n  selector: 'app-leagues',\r\n  templateUrl: './leagues.component.html',\r\n  styleUrls: ['./leagues.component.scss']\r\n})\r\nexport class LeaguesComponent implements OnInit {\r\n coinBase: String;\r\n leagueAddress: String;\r\n gas: String = '1000000'\r\n competitions: any  [];\r\n noCompetitions: String;\r\n showLoading: Boolean;\r\n dissabled: Boolean;\r\n leagueTeam: any [];\r\n joinButtonText: String\r\n \r\n\r\n  constructor(private web3Service: Web3Service, \r\n    private ref: ChangeDetectorRef, private api: ApiServiceService,\r\n    private auth: AuthService,\r\n    private util: UtilService) { }\r\n\r\n  ngOnInit() {\r\n    this.showLoading =false\r\n    this.dissabled = false\r\n    this.competitions =[];\r\n    this.initAllCompetitons();\r\n    this.joinButtonText = 'join'\r\n    this.coinBase = this.auth.getUserAdress()\r\n    \r\n  \r\n  }\r\n  initAllCompetitons(){\r\n    this.showLoading = true;\r\n   this.api.getResource('competitions')\r\n   .subscribe(resp=>{\r\n     if(resp.length == 0) this.noCompetitions = \"Sorry there are no competitions running at the moment, please try again later\"\r\n     this.competitions = resp;\r\n    //  this.leagueTeam=resp[0].teams\r\n    //  console.log('competitions ', this.competitions);\r\n    //  console.log('leagues ', this.leagueTeam)\r\n     this.showLoading = false;\r\n   })\r\n  }\r\n\r\n\r\njoinCompe(index){\r\n  this.showLoading = true;\r\n  this.dissabled = true;\r\n  this.showLoading = false;\r\n  this.api.postUserTeam('competitions', index, 'teams', {\"userId\": this.auth.getUserId()})\r\n  .subscribe(resp=>{\r\n    console.log('entered competitions ', resp);\r\n      this.web3Service.joinCompe(this.coinBase,this.gas, index)\r\n    .subscribe(resp=> console.log('successfully joined league ',resp))\r\n\r\n  \r\n  })\r\n\r\n}\r\ncheckIfJoined(index){\r\n if(this.util.isUserInLeague(this.competitions[index].teams, this.auth.getUserAdress())){\r\n   this.joinButtonText = 'joined';\r\n   return true;\r\n\r\n }else{\r\n   return false\r\n }\r\n\r\n}\r\nview(leagueId){\r\n  console.log('league id ', leagueId)\r\n  this.api.getSpecificResource('competitions', leagueId)\r\n  .subscribe(resp=>{\r\n    console.log('responce ', resp)\r\n    this.leagueTeam = resp;\r\n  })\r\n\r\n}\r\n\r\n}","import { Injectable } from '@angular/core';\r\nimport { ApiServiceService } from './api-service.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UtilService {\r\n  teams: any [] =[]\r\n\r\n  constructor(private api: ApiServiceService) { }\r\n\r\n  //find user is in league\r\n  isUserInLeague(teams, userId){\r\n  \r\n     if(teams.map(item => item.address).indexOf(userId)>-1){\r\n      //  console.log('user in league');\r\n       return true;\r\n     }else{\r\n       return false;\r\n     }\r\n\r\n\r\n  }\r\n}\r\n"],"sourceRoot":""}